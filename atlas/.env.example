# =============================================================================
# ALESQUI INTELLIGENCE - ATLAS DEPLOYMENT CONFIGURATION
# =============================================================================
# This configuration is for running Alesqui Intelligence with MongoDB Atlas
# (cloud-managed database). Copy this file to .env and configure your values.
# =============================================================================

# =============================================================================
# DOCKER IMAGE VERSIONS
# =============================================================================
# Specify the version tags for backend and frontend images
# Use 'latest' for the most recent version, or specify a version like 'v1.0.0'
BACKEND_VERSION=latest
FRONTEND_VERSION=latest

# =============================================================================
# MONGODB ATLAS CONFIGURATION
# =============================================================================
# MongoDB Atlas connection string
# 
# HOW TO GET YOUR CONNECTION STRING:
# 1. Log in to MongoDB Atlas: https://cloud.mongodb.com
# 2. Click "Connect" on your cluster
# 3. Choose "Connect your application"
# 4. Select "Driver: Java" and "Version: 4.3 or later"
# 5. Copy the connection string
# 6. Replace <password> with your database user password
# 7. Replace <dbname> with your database name (usually alesqui_intelligence)
#
# FORMAT: mongodb+srv://username:password@cluster.mongodb.net/dbname?retryWrites=true&w=majority
#
# IMPORTANT NOTES:
# - Use mongodb+srv:// for Atlas (not mongodb://)
# - URL-encode special characters in password (use %40 for @, %23 for #, etc.)
# - Ensure your server IP is whitelisted in Atlas Network Access
# - For production, use 0.0.0.0/0 cautiously or specify exact IPs
#
MONGODB_ATLAS_URI=mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/alesqui_intelligence?retryWrites=true&w=majority

# Database name (should match the database in your connection string)
MONGODB_DATABASE=alesqui_intelligence

# =============================================================================
# SECURITY - JWT TOKENS
# =============================================================================
# Secret key for signing JWT tokens
# IMPORTANT: Must be at least 256 bits (32 characters)
# Generate using: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_A_RANDOM_SECURE_KEY_AT_LEAST_32_CHARS

# JWT token expiration time in milliseconds
# Default: 900000 (15 minutes)
JWT_EXPIRATION=900000

# JWT refresh token expiration time in milliseconds
# Default: 604800000 (7 days)
JWT_REFRESH_EXPIRATION=604800000

# =============================================================================
# AI CONFIGURATION - OpenAI
# =============================================================================
# Your OpenAI API key for GPT integration
# Get your API key at: https://platform.openai.com/api-keys
# Format: sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_API_KEY=sk-proj-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# URL where users will access the frontend application
# IMPORTANT: For production, use your actual domain with HTTPS
# Examples:
#   - Production: https://intelligence.yourcompany.com
#   - Staging: https://intelligence-staging.yourcompany.com
#   - Development: http://localhost
FRONTEND_URL=https://intelligence.yourcompany.com

# API URL for frontend to connect to backend
# For production behind reverse proxy: https://intelligence.yourcompany.com/api
# For development: http://localhost:8080
VITE_API_URL=https://intelligence.yourcompany.com/api

# Additional CORS allowed origins (comma-separated, optional)
# Example: https://app.example.com,https://test.example.com
CORS_ADDITIONAL_ORIGINS=

# Company or organization name
# This appears in the application interface and emails
COMPANY_NAME="My Company Inc."

# =============================================================================
# INITIAL ADMIN USER (Optional)
# =============================================================================
# On first startup, if no users exist, an admin account will be created automatically.
# 
# Customize the admin email (optional, defaults to admin@company.com):
# INITIAL_ADMIN_EMAIL=admin@mycompany.com
#
# Set a password (optional, leave commented to auto-generate):
# INITIAL_ADMIN_PASSWORD=
#
# If password is not set, a secure random password will be generated.
# Check the logs to see it:
#   docker-compose logs backend | grep InitialAdmin
#
# ðŸ”’ IMPORTANT: Change the password after first login!

# =============================================================================
# EMAIL CONFIGURATION (SMTP) - PRODUCTION
# =============================================================================
# RECOMMENDED PRODUCTION SMTP PROVIDERS:
# - SendGrid (https://sendgrid.com) - Reliable, good free tier
# - Mailgun (https://www.mailgun.com) - Developer-friendly
# - Amazon SES (https://aws.amazon.com/ses) - Scalable, cost-effective
# - Postmark (https://postmarkapp.com) - High deliverability
#
# AVOID using personal Gmail/Outlook for production!

# SMTP server hostname
# Examples:
#   - SendGrid: smtp.sendgrid.net
#   - Mailgun: smtp.mailgun.org
#   - Amazon SES: email-smtp.us-east-1.amazonaws.com
#   - Postmark: smtp.postmarkapp.com
SMTP_HOST=smtp.sendgrid.net

# SMTP server port
# Common ports: 587 (TLS - recommended), 465 (SSL), 25 (unencrypted)
SMTP_PORT=587

# SMTP authentication username
# SendGrid: "apikey" (literal string)
# Mailgun: Your API username
# Amazon SES: Your SMTP username
SMTP_USER=apikey

# SMTP authentication password
# SendGrid: Your API key
# Mailgun: Your API key
# Amazon SES: Your SMTP password
SMTP_PASSWORD=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Email address to send from
# Must be verified/authorized by your SMTP provider
# Use a no-reply or automated email address
MAIL_FROM_EMAIL=noreply@yourcompany.com

# Display name for sender
# This appears as the sender name in email clients
MAIL_FROM_NAME="Alesqui Intelligence"

# =============================================================================
# AUDIT & LOGGING
# =============================================================================
# Number of days to retain audit logs
# Default: 730 (2 years)
# For production, consider your compliance requirements
AUDIT_RETENTION_DAYS=730

# =============================================================================
# ADVANCED CONFIGURATION (Optional)
# =============================================================================
# Java JVM options for the backend service
# Default settings optimize for container environments
# For production, consider increasing memory allocation
JAVA_OPTS="-XX:+UseContainerSupport -XX:MaxRAMPercentage=75.0"

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# Before deploying to production, ensure you have:
# [ ] Created MongoDB Atlas cluster and database user
# [ ] Whitelisted your server IP in Atlas Network Access
# [ ] Generated strong JWT_SECRET (32+ characters)
# [ ] Obtained OpenAI API key with sufficient credits
# [ ] Set up production SMTP service (SendGrid, Mailgun, etc.)
# [ ] Configured custom domain with HTTPS
# [ ] Set FRONTEND_URL to your production domain with https://
# [ ] Updated VITE_API_URL to match your API endpoint
# [ ] Verified email sending works
# [ ] Set up SSL/TLS certificates (Let's Encrypt, etc.)
# [ ] Configured reverse proxy (Nginx, Traefik, Caddy)
# [ ] Set up monitoring and alerting
# [ ] Configured automated backups in Atlas
# [ ] Reviewed security best practices
